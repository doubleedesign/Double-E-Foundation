!function(t,i){"use strict";function e(s,n){this.$element=s,this.options=t.extend({},e.defaults,this.$element.data(),n),this._init(),i.registerPlugin(this,"Orbit"),i.Keyboard.register("Orbit",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous"},rtl:{ARROW_LEFT:"next",ARROW_RIGHT:"previous"}})}e.defaults={bullets:!0,navButtons:!0,animInFromRight:"slide-in-right",animOutToRight:"slide-out-right",animInFromLeft:"slide-in-left",animOutToLeft:"slide-out-left",autoPlay:!0,timerDelay:5e3,infiniteWrap:!0,swipe:!0,pauseOnHover:!0,accessible:!0,containerClass:"orbit-container",slideClass:"orbit-slide",boxOfBullets:"orbit-bullets",nextClass:"orbit-next",prevClass:"orbit-previous",useMUI:!0},e.prototype._init=function(){this.$wrapper=this.$element.find("."+this.options.containerClass),this.$slides=this.$element.find("."+this.options.slideClass);var t=this.$element.find("img"),e=this.$slides.filter(".is-active");e.length||this.$slides.eq(0).addClass("is-active"),this.options.useMUI||this.$slides.addClass("no-motionui"),t.length?i.onImagesLoaded(t,this._prepareForOrbit.bind(this)):this._prepareForOrbit(),this.options.bullets&&this._loadBullets(),this._events(),this.options.autoPlay&&this.geoSync(),this.options.accessible&&this.$wrapper.attr("tabindex",0)},e.prototype._loadBullets=function(){this.$bullets=this.$element.find("."+this.options.boxOfBullets).find("button")},e.prototype.geoSync=function(){var t=this;this.timer=new i.Timer(this.$element,{duration:this.options.timerDelay,infinite:!1},function(){t.changeSlide(!0)}),this.timer.start()},e.prototype._prepareForOrbit=function(){var t=this;this._setWrapperHeight(function(i){t._setSlideHeight(i)})},e.prototype._setWrapperHeight=function(i){var e,s=0,n=0;this.$slides.each(function(){e=this.getBoundingClientRect().height,t(this).attr("data-slide",n),n&&t(this).css({position:"relative",display:"none"}),s=e>s?e:s,n++}),n===this.$slides.length&&(this.$wrapper.css({height:s}),i(s))},e.prototype._setSlideHeight=function(i){this.$slides.each(function(){t(this).css("max-height",i)})},e.prototype._events=function(){var e=this;if(this.options.swipe&&this.$slides.off("swipeleft.zf.orbit swiperight.zf.orbit").on("swipeleft.zf.orbit",function(t){t.preventDefault(),e.changeSlide(!0)}).on("swiperight.zf.orbit",function(t){t.preventDefault(),e.changeSlide(!1)}),this.options.autoPlay&&(this.$slides.on("click.zf.orbit",function(){e.$element.data("clickedOn",e.$element.data("clickedOn")?!1:!0),e.timer[e.$element.data("clickedOn")?"pause":"start"]()}),this.options.pauseOnHover&&this.$element.on("mouseenter.zf.orbit",function(){e.timer.pause()}).on("mouseleave.zf.orbit",function(){e.$element.data("clickedOn")||e.timer.start()})),this.options.navButtons){var s=this.$element.find("."+this.options.nextClass+", ."+this.options.prevClass);s.attr("tabindex",0).on("click.zf.orbit touchend.zf.orbit",function(){e.changeSlide(t(this).hasClass(e.options.nextClass))})}this.options.bullets&&this.$bullets.on("click.zf.orbit touchend.zf.orbit",function(){if(/is-active/g.test(this.className))return!1;var i=t(this).data("slide"),s=i>e.$slides.filter(".is-active").data("slide"),n=e.$slides.eq(i);e.changeSlide(s,n,i)}),this.$wrapper.add(this.$bullets).on("keydown.zf.orbit",function(s){i.Keyboard.handleKey(s,"Orbit",{next:function(){e.changeSlide(!0)},previous:function(){e.changeSlide(!1)},handled:function(){t(s.target).is(e.$bullets)&&e.$bullets.filter(".is-active").focus()}})})},e.prototype.changeSlide=function(t,e,s){var n=this.$slides.filter(".is-active").eq(0);if(/mui/g.test(n[0].className))return!1;var o,l=this.$slides.first(),a=this.$slides.last(),r=t?"Right":"Left",h=t?"Left":"Right",d=this;o=e?e:t?this.options.infiniteWrap?n.next("."+this.options.slideClass).length?n.next("."+this.options.slideClass):l:n.next("."+this.options.slideClass):this.options.infiniteWrap?n.prev("."+this.options.slideClass).length?n.prev("."+this.options.slideClass):a:n.prev("."+this.options.slideClass),o.length&&(this.options.bullets&&(s=s||this.$slides.index(o),this._updateBullets(s)),this.options.useMUI?(i.Motion.animateIn(o.addClass("is-active").css({position:"absolute",top:0}),this.options["animInFrom"+r],function(){o.css({position:"relative",display:"block"}).attr("aria-live","polite")}),i.Motion.animateOut(n.removeClass("is-active"),this.options["animOutTo"+h],function(){n.removeAttr("aria-live"),d.options.autoPlay&&d.timer.restart()})):(n.removeClass("is-active is-in").removeAttr("aria-live").hide(),o.addClass("is-active is-in").attr("aria-live","polite").show(),this.options.autoPlay&&this.timer.restart()),this.$element.trigger("slidechange.zf.orbit",[o]))},e.prototype._updateBullets=function(t){{var i=this.$element.find("."+this.options.boxOfBullets).find(".is-active").removeClass("is-active").blur(),e=i.find("span:last").detach();this.$bullets.eq(t).addClass("is-active").append(e)}},e.prototype.destroy=function(){delete this.timer,this.$element.off(".zf.orbit").find("*").off(".zf.orbit").end().hide(),i.unregisterPlugin(this)},i.plugin(e,"Orbit")}(jQuery,window.Foundation);